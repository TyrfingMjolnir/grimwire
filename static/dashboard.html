<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- img-src should be: 'self' data: -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src *; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; frame-src *; connect-src *" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/ico" href="https://grimwire.net/favicon.ico" />

    <title>Grimwire 0.6</title>

    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/jquery.layout-latest.css" rel="stylesheet">
    <link href="/css/dashboard.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body id="dashboardapp">

    <div class="ui-layout-center">
      <!-- Static navbar -->
      <div id="header" class="navbar navbar-default navbar-static-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="httpl://feed" title="Grimwire" target="_content"><img id="logo" src="/img/logo_small.png" /></a>
          </div>
          <ul class="nav navbar-nav">
            <li><a href="httpl://feed" target="_content"><b class="glyphicon glyphicon-list"></b> <span>Updates</span></a></li>
            <li><a method="SHOW" href="httpl://workers/ed/0?steal_focus=1" ><b class="glyphicon glyphicon-pencil"></b> <span>Workers</span></a></li>
            <li><a href="httpl://explorer/online?steal_focus=1" method="SHOW"><b class="glyphicon glyphicon-globe"></b> <span>Online</span></a></li>
            <li><a href="httpl://explorer" target="_content"><b class="glyphicon glyphicon-folder-open"></b> <span>Explorer</span></a></li>
            <li><a href="httpl://explorer/intro" target="_content"><b class="glyphicon glyphicon-question-sign"></b> <span>About</span></a></li>
          </ul>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <li class="dropdown">
                <a id="userid" href="#" class="dropdown-toggle" data-toggle="dropdown"><b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a id="change-email" href="#">Change Email</a></li>
                  <li><a id="change-pw" href="#">Change Password</a></li>
                  <li class="dropdown-submenu">
                    <a tabindex="-1" href="#">Change Avatar</a>
                    <ul class="dropdown-menu avatars"></ul>
                  </li>
                  <li class="divider"></li>
                  <li><a id="logout" href="#">Log Out</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>

      <!-- Content -->
      <div id="content" class="container">
        <div id="chrome">
          <input id="chrome-url" class="form-control" type="text">
          <a id="chrome-back" href="#" title="Back"><span class="glyphicon glyphicon-arrow-left"></span></a>
          &nbsp; <a id="chrome-forward" href="#" title="Forward"><span class="glyphicon glyphicon-arrow-right"></span></a>
          &nbsp; <a id="chrome-refresh" href="#" title="Refresh"><span class="glyphicon glyphicon-refresh"></span></a>
        </div>
        <main><iframe seamless="seamless" sandbox="allow-popups allow-same-origin allow-scripts"><html><body></body></html></iframe></main>
      </div>
    </div> <!-- /container -->

    <div class="ui-layout-west">
      <div id="worker-editor">
        <!-- file menu -->
        <ul class="list-inline">
          <li class="dropdown">
            <a class="title" data-toggle="dropdown" href="#">Worker <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a method="NEW" href="httpl://workers/ed">New</a></li>
              <li class="dropdown-submenu">
                <a method="OPEN" href="httpl://workers/ed">Open</a>
                <ul id="worker-open-dropdown" class="dropdown-menu">
                  <li><a method="OPEN" href="httpl://workers/ed">From URL</a></li>
                </ul>
              </li>
              <li><a method="SAVE" href="httpl://workers/ed">Save</a></li>
              <li><a method="SAVE" href="httpl://workers/ed?rename=1">Save As...</a></li>
              <li class="divider"></li>
              <li class="dropdown-submenu">
                <a method="OPEN" href="httpl://workers/ed">Tutorials</a>
                <ul id="worker-open-dropdown" class="dropdown-menu">
                  <li><a method="OPEN" href="httpl://workers/ed?url={HOSTDOMAIN}/worker/tut01.js">1. Hello World</a></li>
                  <li><a method="OPEN" href="httpl://workers/ed?url={HOSTDOMAIN}/worker/tut02.js">2. Content Types</a></li>
                  <li><a method="OPEN" href="httpl://workers/ed?url={HOSTDOMAIN}/worker/tut03.js">3. Links</a></li>
                </ul>
              </li>
              <li class="divider"></li>
              <!-- <li><a method="TODO" href="httpl://workers/ed">Export File</a></li> -->
              <li><a method="DELETE" href="httpl://workers/ed">Delete</a></li>
              <li><a method="CLOSE" href="httpl://workers/ed">Close</a></li>
            </ul>
          </li><li><a method="SAVE" href="httpl://workers/ed" class="glyphicon glyphicon-floppy-disk" title="Save"></a></li><li><a method="START" href="httpl://workers/ed" class="glyphicon glyphicon-play" title="Save and (re)Start"></a></li><li><a method="STOP" href="httpl://workers/ed" class="glyphicon glyphicon-pause" title="Stop"></a></li><li><a method="START" href="httpl://workers/ed?network=1" class="glyphicon glyphicon-globe" title="Put Worker on your Network"></a></li><li><a id="worker-inst-link" title="Open Worker" target="_content">open</a></li>
        </ul>

        <ul class="nav nav-tabs"></ul>
        <div id="ace"></div>
      </div>
    </div>

    <div class="ui-layout-east">
      <div>{MOTD_HTML}</div>
      <a id="refresh-active-links" class="btn btn-xs btn-primary" href="javascript:void(0)" title="Refresh">refresh</a>
      <div id="active-links"></div>
      <hr/>
      <p>Bookmarklet: <a href="javascript:if(typeof grimwidget=='undefined'){alert('Sorry, this site doesn\'t appear to have the grimwire widget installed.');}else{var r=grimwidget.getRelay();r.stopListening();r.setProvider('{HOSTDOMAIN}');r.requestAccessToken();}" title="join({HOSTLABEL})">join({HOSTLABEL})</a>. <small class="text-muted">Bookmark this link, then use it on sites with GrimWidget.js to connect to this relay.</small></p>
      <hr/>
      <p>
        <small>CSS by <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a>. Icons by <a href="http://www.fatcow.com/free-icons" target="_blank">FatCow</a> and <a href="http://glyphicons.com/" target="_blank">Glyphicons</a>. Libraries by <a href="http://stevenlevithan.com/" target="_blank">Stephen Levithan, <a href="https://github.com/fxa" target="_blank">Franz Antesberger</a>, and <a href="https://github.com/federomero" target="_blank">Federico Romero</a>. Grimwire by <a href="https://github.com/pfraze" target="_blank">Paul Frazee</a>. Licensed MIT.</small>
      </p>
    </div>

    <script id="avatars" type="application/json">{AVATARS}</script>

    <script id="your-connections-tmpl" type="text/x-handlebars-template">
      <h4>Your Connections <small>{{num_user_streams}} / {{max_user_streams}} <span class="text-success">&ndash; {{num_guest_streams}}</span></small></h4>
      <div id="connections-bar" class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="{{pct_user_streams}}" aria-valuemin="0" aria-valuemax="100" style="width: {{pct_user_streams}}%"><span class="sr-only">{{pct_user_streams}}% Allocated</span></div>
        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{pct_guest_streams}}" aria-valuemin="0" aria-valuemax="100" style="width: {{pct_guest_streams}}%"><span class="sr-only">{{pct_guest_streams}}% Allocated</span></div>
        <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="{{pct_guest_remaining}}" aria-valuemin="0" aria-valuemax="100" style="width: {{pct_guest_remaining}}%"><span class="sr-only">{{pct_guest_remaining}}% Allocated</span></div>
      </div>
      {{!--<div class="btn-group btn-group-xxs">
        <button id="remove-guest-slot" class="btn btn-success" title="Remove guest slot">&ndash;</button>
        <button id="add-guest-slot" class="btn btn-success" title="Add guest slot">+</button>
      </div>
      <span class="text-success">Guests: {{num_guest_streams}} / {{max_guest_streams}}</span>--}}{{!--<a class="text-muted" href="//chat.grimwire.com" title="chat.grimwire.com" target="_blank">pfraze-guest1</a><a href="#" title="Kick">&times;</a> <a class="text-muted" href="//chat.grimwire.com" title="chat.grimwire.com" target="_blank">pfraze-bob</a><a href="#" title="Kick">&times;</a></span>--}}
    </script>


    <script src="/js/jquery-2.0.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!--<script src="/js/pouchdb-nightly.js"></script>-->
    <script src="/js/jquery.layout-latest.js"></script>
    <script src="/js/handlebars.js"></script><!-- :TODO: remove -->
    <script src="/js/ace/src-min-noconflict/ace.js"></script>
    <script src="/js/local.js"></script>
    <script src="/js/servware.js"></script>
    <script src="/js/dashboard.js"></script>
  </body>
</html>
